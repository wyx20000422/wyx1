<!DOCTYPE html>
<html>
<head>
<script>

function setCookie(cname,cvalue,exdays)
{
    var d=new Date();
    d.setTime(d.getTime()+(exdays*24*60*60*1000));
    //格林威治时间 (GMT) 
    var expires="expires="+d.toGMTString();
    document.cookies=cname+"="+cvalue+";"+expires;
}

function getCookie(cname)
{
    //格式化
    var name=cname+"=";
    //分割
    var ca=document.cookie.split(";");
    //遍历
    for(var i=0;i<ca.length;i++){
        var c=ca[i].trim();
        //是否包含用户名
        if(c.indexOf(name)==0){
        return c.substring(name.length,c.length);
        }
    }
    return "";
}

function checkCookie()
{
    //获取cookie
    var user=getCookie("username");
    //如果用户存在
    if(user!=""){
    alert("欢迎"+user);
    }else{
        //提示输入用户名
        user=prompt("请输入姓名：");
        if(user!="" && user!=null){
        setCookie("username",user,30);
    }
    }

}

</script>
</head>
<body onload="checkCookie()">
</body>
</html>

